!iflang [english]

!begin_node Fattrib
(!begin_liste) [Availability]
!item [Name:]
Øfile attributeÆ - Dateiattribut ermitteln oder setzen.
!item [Opcode:]
67
!item [Syntax:]
int16_t Fattrib ( const int8_t *filename, int16_t wflag, int16_t attrib );

!item [Description:]
Die GEMDOS-Routine Fattrib ermittelt oder setzt die Attribute einer Datei.
Es gilt:
!begin_xlist !short [Parameter]
!item [Parameter]
Bedeutung
!item [~]
~
!item [filename]
Dateiname der entsprechenden Datei
!item [wflag]
!begin_xlist !short

!item [0 =]
Attribute auslesen

!item [1 =]
Attribute setzen
!end_xlist

!label Dateiattribute von TOS
!label Attribute einer Datei
!item [attrib]
(!B)Dateiattribute(!b)
!begin_xlist !short
!item [Bit-0:]
Datei ist schreibgeschÅtzt
!item [Bit-1:]
Datei ist versteckt
!item [Bit-2:]
Systemdatei
!item [Bit-3:]
Diskettenname
!item [Bit-4:]
Verzeichnis
!item [Bit-5:]
Archiv-Bit
!end_xlist
!end_xlist
(!B)Hinweis:(!b) Programme sollten nach Mîglichkeit auf die Routinen Fxattr
und Fchmod zurÅckgreifen, da diese leistungsfÑhiger als Fattrib sind.
!item [(!nolink [Return]) Value:]
Die Funktion liefert folgende Resultate:
!begin_xlist !short [EACCDN :]
!item [EACCDN :]
Zugriff verweigert
!item [EFILNF :]
Datei nicht gefunden
!item [EPTHNF :]
Verzeichnis nicht gefunden
!item [sonst :]
die aktuellen Dateiattribute
!end_xlist

!item [Availability:] All GEMDOS versions.

!item [Group:]
File Functions

!item [See Also:] (!link [Binding][Bindings for Fattrib]) ~ Fxattr
(!ende_liste)


!begin_node Bindings for Fattrib
!ignore_index
(!begin_liste) [Assembler:]
!item [C:]
int16_t Fattrib ( const int8_t *filename, int16_t wflag, int16_t attrib );
!item [Assembler:]
!begin_verbatim
move.w    attrib,-(sp) ; Offset 8
move.w    wflag,-(sp)  ; Offset 6
pea       filename     ; Offset 2
move.w    #67,-(sp)    ; Offset 0
trap      #1           ; GEMDOS
lea       $A(sp),sp    ; correct stack
!end_verbatim

!item [GFA-Basic]
Fehler%=Gemdos(&H43,L:filename%,W:wflag%,W:attrib%)

(!ende_liste)
!end_node
!end_node

!else

!begin_node Fattrib
(!begin_liste) [Beschreibung]
!item [Name:]
Øfile attributeÆ - Dateiattribut ermitteln oder setzen.
!item [Gemdosnummer:]
67
!item [Deklaration:]
int16_t Fattrib ( const int8_t *filename, int16_t wflag, int16_t attrib );

!item [Beschreibung:]
Die GEMDOS-Routine Fattrib ermittelt oder setzt die Attribute einer Datei.
Es gilt:
!begin_xlist !short [Parameter]
!item [Parameter]
Bedeutung
!item [~]
~
!item [filename]
Dateiname der entsprechenden Datei
!item [wflag]
!begin_xlist !short

!item [0 =]
Attribute auslesen

!item [1 =]
Attribute setzen
!end_xlist

!label Dateiattribute von TOS
!label Attribute einer Datei
!item [attrib]
(!B)Dateiattribute(!b)
!begin_xlist !short
!item [Bit-0:]
Datei ist schreibgeschÅtzt
!item [Bit-1:]
Datei ist versteckt
!item [Bit-2:]
Systemdatei
!item [Bit-3:]
Diskettenname
!item [Bit-4:]
Verzeichnis
!item [Bit-5:]
Archiv-Bit
!end_xlist
!end_xlist
(!B)Hinweis:(!b) Programme sollten nach Mîglichkeit auf die Routinen Fxattr
und Fchmod zurÅckgreifen, da diese leistungsfÑhiger als Fattrib sind.
!item [Ergebnis:]
Die Funktion liefert folgende Resultate:
!begin_xlist !short [EACCDN :]
!item [EACCDN :]
Zugriff verweigert
!item [EFILNF :]
Datei nicht gefunden
!item [EPTHNF :]
Verzeichnis nicht gefunden
!item [sonst :]
die aktuellen Dateiattribute
!end_xlist

!item [VerfÅgbar:] Alle GEMDOS Versionen.

!item [Gruppe:]
Dateifunktionen
!item [Querverweis:] (!link [Binding][Bindings fÅr Fattrib]) ~ Fxattr
(!ende_liste)


!begin_node Bindings fÅr Fattrib
!ignore_index
(!begin_liste) [Assembler:]
!item [C:]
int16_t Fattrib ( const int8_t *filename, int16_t wflag, int16_t attrib );
!item [Assembler:]
!begin_verbatim
move.w    attrib,-(sp) ; Offset 8
move.w    wflag,-(sp)  ; Offset 6
pea       filename     ; Offset 2
move.w    #67,-(sp)    ; Offset 0
trap      #1           ; GEMDOS aufrufen
lea       $A(sp),sp    ; Stack korrigieren
!end_verbatim

!item [GFA-Basic]
Fehler%=Gemdos(&H43,L:filename%,W:wflag%,W:attrib%)

(!ende_liste)
!end_node
!end_node

!endif
