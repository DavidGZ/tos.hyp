!iflang [english]


!begin_node WdgCtrl
(!begin_liste) [Availability]

!item [Name:]
ØWdgCtrlÆ - Einstellen des Hardware-Watchdog

!item [Opcode:]
161

!item [Syntax:]
int32_t WdgCtrl ( int16_t OpCode );

!item [Description:]
Diese Funktion de- oder aktiviert den Hardware-Watchdog.
!begin_table [l|l}
Parmeter !! wert
!hline
OpCode   !! 0x0000 - return 0 to check that WdgCtrl is present
~        !! 0x1234 - enable watchdog
~        !! 0xdead - disable watchdog
~        !! 0x4242 - re-trigger watchdog
!end_table

(!B)Hinweis:(!b)Die Funktion ist fÅr die Hardware des Milans 2.1.
Die Version gibt es allerdings nur als Spezialversion und ist
nicht frei verfÅgbar.

!item [(!nolink [Return]) Value:]
!begin_xlist !short [EUNDEV (-15)]
!item [E_OK (0)] - OK
!item [EUNDEV (-15)] - no watchdog present
!item [EBADRQ (-5)] - unimplemented OpCode
!end_xlist

!item [Grop:]
Spezialbefehle

!item [Availability:]
Die Funktion ist ab dem MilanTOS mit dem Datum 9.6.2002 vorhanden.

!item [See Also:]
(!link [Binding] [Bindings fÅr WdgCtrl])

(!ende_liste)


!begin_node Bindings fÅr WdgCtrl
!ignore_index
(!begin_liste) [Assembler:]
!item [C:]

int32_t WdgCtrl ( int16_t OpCode );
!item [Assembler:]
!begin_verbatim
pea (a2)                  ; TOS does not save A2 in traps
move.w    OpCode,-(sp)    ; Offset 2
move.w    #161,-(sp)      ; Offset 0
trap      #14             ; XBIOS aufrufen
lea       4(sp),sp        ; Stack korrigieren
move.l    (sp)+,a2        ; restore A2
!end_verbatim
(!ende_liste)
!end_node
!end_node


!else


!begin_node WdgCtrl
(!begin_liste) [Beschreibung]

!item [Name:]
ØWdgCtrlÆ - Einstellen des Hardware-Watchdog

!item [Xbiosnummer:]
161

!item [Binding:]
int32_t WdgCtrl ( int16_t OpCode );

!item [Beschreibung:]
Diese Funktion de- oder aktiviert den Hardware-Watchdog.
!begin_table [l|l}
Parmeter !! wert
!hline
OpCode   !! 0x0000 - return 0 to check that WdgCtrl is present
~        !! 0x1234 - enable watchdog
~        !! 0xdead - disable watchdog
~        !! 0x4242 - re-trigger watchdog
!end_table

(!B)Hinweis:(!b) Die Funktion ist fÅr die Hardware des Milans 2.1.
Die Version gibt es allerdings nur als Spezialversion und ist
nicht frei verfÅgbar.

!item [Ergebnis:]
!begin_xlist !short [EUNDEV (-15)]
!item [E_OK (0)] - OK
!item [EUNDEV (-15)] - Watchdog nicht vorhanden
!item [EBADRQ (-5)] - OpCode nicht implementiert
!end_xlist

!item [Gruppe:]
Spezialbefehle

!item [VerfÅgbar:]
Die Funktion ist ab dem MilanTOS mit dem Datum 9.6.2002 vorhanden.

!item [Querverweis:]
(!link [Binding] [Bindings fÅr WdgCtrl])

(!ende_liste)


!begin_node Bindings fÅr WdgCtrl
!ignore_index
(!begin_liste) [Assembler:]
!item [C:]
int32_t WdgCtrl ( int16_t OpCode );
!item [Assembler:]
!begin_verbatim
pea (a2)                  ; TOS does not save A2 in traps
move.w    OpCode,-(sp)    ; Offset 2
move.w    #161,-(sp)      ; Offset 0
trap      #14             ; XBIOS aufrufen
lea       4(sp),sp        ; Stack korrigieren
move.l    (sp)+,a2        ; restore A2
!end_verbatim
(!ende_liste)
!end_node
!end_node


!endif